<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

		<title>TimeController</title>

		<link rel="icon" type="image/png" th:href="@{/favicon.ico}"/>

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

	</head>
	<body>
		<div class="container" id="myContainer">
			<div th:replace="~{topmenu :: navigation('')}"/>
			<div th:replace="~{time :: time}"/>

			<div style="background-color: aliceblue">
				<h2>Thoughts</h2>
				<table class="table table-hover">
					<thead class="thead-light">
					<tr>
						<th>ID</th>
						<th>Название задачи</th>
						<th>Описание</th>
						<th>Дата создание</th>
						<th>Статус</th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="task : ${tasks}" th:if="${task.getType().toString()} == 'THOUGHT'">
						<td th:text="${task.getId()}"/>
						<td th:text="${task.getTitle()}"/>
						<td th:text="${task.getDescription()}"/>
						<td th:text="${#temporals.format(task.getCreatedAt(), 'dd.MM.yyyy HH:mm')}"/>
						<td th:text="${task.getType()}"/>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=DAILY_CHECK_TASK'}">DCT</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=USEFUL_PROJECT'}">USP</a></td>
						<td><a type="button" class="btn btn-danger" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=UNUSEFUL_PROJECT'}">UNUSP</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=BACKWARD_TIMER'}">BT</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=PLAN'}">PLAN</a></td>
					</tr>
					</tbody>
				</table>
				<a type="button" class="btn btn-success btn-lg btn-block" th:text="#{utils.add.thought}" th:href="@{/tasks/edit}"></a>
			</div>

			<br>

			<div style="background-color: aliceblue">
				<h2>Daily check tasks (DCT)</h2>
				<table class="table table-hover">
					<thead class="thead-light">
					<tr>
						<th>ID</th>
						<th>Название задачи</th>
						<th>Кнопка</th>
						<th>Кубики</th>
						<th>E</th>
						<th>D</th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="task : ${tasks}" th:if="${task.getType().toString()} == 'DAILY_CHECK_TASK'">
						<td th:text="${task.getId()}"/>
						<td th:text="${task.getTitle()}" th:title="${task.getDescription()}"/>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/usefulness?id=' + ${task.getId()} + '&usefulness=true'}">YES</a></td>
						<td><span th:each="usefulDCTask : ${usefulDCTasks}" th:if="${task.getId() == usefulDCTask.getTaskId()}" th:text="${usefulDCTask.getUseful() + ' '}"/></td>
						<td><a type="button" class="btn btn-danger" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=UNUSEFUL_PROJECT'}">E</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=BACKWARD_TIMER'}">D</a></td>
					</tr>
					</tbody>
				</table>
				<a type="button" class="btn btn-success btn-lg btn-block" th:text="#{utils.add.daily.check.task}" th:href="@{/tasks/edit}"></a>
			</div>

			<br>

			<div style="background-color: aliceblue">
				<h2>Useful project (USP)</h2>
				<table class="table table-hover">
					<thead class="thead-light">
					<tr>
						<th>ID</th>
						<th>Название задачи</th>
						<th>Помидор</th>
						<th>Всего</th>
						<th>R</th>
						<th>P</th>
						<th>S</th>
						<th>E</th>
						<th>D</th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="task : ${tasks}" th:if="${task.getType().toString()} == 'USEFUL_PROJECT'">
						<td th:text="${task.getId()}"/>
						<td th:text="${task.getTitle()}" th:title="${task.getDescription()}"/>
						<td/>
						<td th:text="${task.getTotalTime()}"/>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=DAILY_CHECK_TASK'}">R</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=USEFUL_PROJECT'}">P</a></td>
						<td><a type="button" class="btn btn-danger" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=UNUSEFUL_PROJECT'}">S</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=BACKWARD_TIMER'}">E</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=PLAN'}">D</a></td>
					</tr>
					</tbody>
				</table>
				<a type="button" class="btn btn-success btn-lg btn-block" th:text="#{utils.add.useful.project}" th:href="@{/tasks/edit}"></a>
			</div>

			<br>

			<div style="background-color: antiquewhite">
				<h2>Unuseful project (UNUSP)</h2>
				<table class="table table-hover">
					<thead class="thead-light">
					<tr>
						<th>ID</th>
						<th>Название задачи</th>
						<th>Помидор</th>
						<th>Всего</th>
						<th>R</th>
						<th>P</th>
						<th>S</th>
						<th>E</th>
						<th>D</th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="task : ${tasks}" th:if="${task.getType().toString()} == 'UNUSEFUL_PROJECT'">
						<td th:text="${task.getId()}"/>
						<td th:text="${task.getTitle()}" th:title="${task.getDescription()}"/>
						<td/>
						<td th:text="${task.getTotalTime()}"/>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=DAILY_CHECK_TASK'}">R</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=USEFUL_PROJECT'}">P</a></td>
						<td><a type="button" class="btn btn-danger" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=UNUSEFUL_PROJECT'}">S</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=BACKWARD_TIMER'}">E</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=PLAN'}">D</a></td>
					</tr>
					</tbody>
				</table>
				<a type="button" class="btn btn-danger btn-lg btn-block" th:text="#{utils.add.unuseful.project}" th:href="@{/tasks/edit}"></a>
			</div>

			<br>

			<div style="background-color: aliceblue">
				<h2>BACKWARD_TIMER (BT)</h2>
				<table class="table table-hover">
					<thead class="thead-light">
					<tr>
						<th>ID</th>
						<th>Название задачи</th>
						<th>До</th>
						<th>Taймер</th>
						<th>R</th>
						<th>P</th>
						<th>S</th>
						<th>E</th>
						<th>D</th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="task : ${tasks}" th:if="${task.getType().toString()} == 'BACKWARD_TIMER'">
						<td th:text="${task.getId()}"/>
						<td th:text="${task.getTitle()}" th:title="${task.getDescription()}"/>
						<td th:text="${#temporals.format(task.getUntilTime(), 'dd.MM.yyyy HH:mm')}"/>
						<td/>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=DAILY_CHECK_TASK'}">R</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=USEFUL_PROJECT'}">P</a></td>
						<td><a type="button" class="btn btn-danger" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=UNUSEFUL_PROJECT'}">S</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=BACKWARD_TIMER'}">E</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=PLAN'}">D</a></td>
					</tr>
					</tbody>
				</table>
				<a type="button" class="btn btn-success btn-lg btn-block" th:text="#{utils.add.backward.timer}" th:href="@{/tasks/edit}"></a>
			</div>

			<br>

			<div style="background-color: aliceblue">
				<h2>PLANS (PLAN)</h2>
				<table class="table table-hover">
					<thead class="thead-light">
					<tr>
						<th colspan="7" class="text-center">THIS_WEEK</th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="task : ${tasks}" th:if="${task.getType().toString()} == 'PLAN' and ${task.getPlanPeriod().toString()} == 'THIS_WEEK'">
						<td th:text="${task.getId()}"/>
						<td th:text="${task.getTitle()}" th:title="${task.getDescription()}"/>
						<td th:text="${#temporals.format(task.getCreatedAt(), 'dd.MM.yyyy HH:mm')}"/>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=DAILY_CHECK_TASK'}">YES</a></td>
						<td><a type="button" class="btn btn-danger" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=UNUSEFUL_PROJECT'}">NO</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=BACKWARD_TIMER'}">E</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=PLAN'}">D</a></td>
					</tr>
					</tbody>
					<thead class="thead-light">
					<tr>
						 <th colspan="7" class="text-center">THIS_MONTH</th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="task : ${tasks}" th:if="${task.getType().toString()} == 'PLAN' and ${task.getPlanPeriod().toString()} == 'THIS_MONTH'">
						<td th:text="${task.getId()}"/>
						<td th:text="${task.getTitle()}" th:title="${task.getDescription()}"/>
						<td th:text="${#temporals.format(task.getCreatedAt(), 'dd.MM.yyyy HH:mm')}"/>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=DAILY_CHECK_TASK'}">YES</a></td>
						<td><a type="button" class="btn btn-danger" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=UNUSEFUL_PROJECT'}">NO</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=BACKWARD_TIMER'}">E</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=PLAN'}">D</a></td>
					</tr>
					</tbody>
					<thead class="thead-light">
					<tr>
						 <th colspan="7" class="text-center">THIS_YEAR</th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="task : ${tasks}" th:if="${task.getType().toString()} == 'PLAN' and ${task.getPlanPeriod().toString()} == 'THIS_YEAR'">
						<td th:text="${task.getId()}"/>
						<td th:text="${task.getTitle()}" th:title="${task.getDescription()}"/>
						<td th:text="${#temporals.format(task.getCreatedAt(), 'dd.MM.yyyy HH:mm')}"/>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=DAILY_CHECK_TASK'}">YES</a></td>
						<td><a type="button" class="btn btn-danger" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=UNUSEFUL_PROJECT'}">NO</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=BACKWARD_TIMER'}">E</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=PLAN'}">D</a></td>
					</tr>
					</tbody>
					<thead class="thead-light">
					<tr>
						 <th colspan="7" class="text-center">THREE_YEARS</th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="task : ${tasks}" th:if="${task.getType().toString()} == 'PLAN' and ${task.getPlanPeriod().toString()} == 'THREE_YEARS'">
						<td th:text="${task.getId()}"/>
						<td th:text="${task.getTitle()}" th:title="${task.getDescription()}"/>
						<td th:text="${#temporals.format(task.getCreatedAt(), 'dd.MM.yyyy HH:mm')}"/>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=DAILY_CHECK_TASK'}">YES</a></td>
						<td><a type="button" class="btn btn-danger" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=UNUSEFUL_PROJECT'}">NO</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=BACKWARD_TIMER'}">E</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=PLAN'}">D</a></td>
					</tr>
					</tbody>
					<thead class="thead-light">
					<tr>
						 <th colspan="7" class="text-center">FIVE_YEARS</th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="task : ${tasks}" th:if="${task.getType().toString()} == 'PLAN' and ${task.getPlanPeriod().toString()} == 'FIVE_YEARS'">
						<td th:text="${task.getId()}"/>
						<td th:text="${task.getTitle()}" th:title="${task.getDescription()}"/>
						<td th:text="${#temporals.format(task.getCreatedAt(), 'dd.MM.yyyy HH:mm')}"/>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=DAILY_CHECK_TASK'}">YES</a></td>
						<td><a type="button" class="btn btn-danger" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=UNUSEFUL_PROJECT'}">NO</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=BACKWARD_TIMER'}">E</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=PLAN'}">D</a></td>
					</tr>
					</tbody>
					<thead class="thead-light">
					<tr>
						 <th colspan="7" class="text-center">TEN_YEARS</th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="task : ${tasks}" th:if="${task.getType().toString()} == 'PLAN' and ${task.getPlanPeriod().toString()} == 'TEN_YEARS'">
						<td th:text="${task.getId()}"/>
						<td th:text="${task.getTitle()}" th:title="${task.getDescription()}"/>
						<td th:text="${#temporals.format(task.getCreatedAt(), 'dd.MM.yyyy HH:mm')}"/>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=DAILY_CHECK_TASK'}">YES</a></td>
						<td><a type="button" class="btn btn-danger" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=UNUSEFUL_PROJECT'}">NO</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=BACKWARD_TIMER'}">E</a></td>
						<td><a type="button" class="btn btn-success" th:href="@{'/tasks/change/status?id=' + ${task.getId()} + '&newStatus=PLAN'}">D</a></td>
					</tr>
					</tbody>
				</table>
				<a type="button" class="btn btn-success btn-lg btn-block" th:text="#{utils.add.plan}" th:href="@{/tasks/edit}"></a>
			</div>

			<br>

			<div style="background-color: aliceblue">
				<h2>CALENDAR</h2>
				<table class="table table-hover">
					<thead class="thead-light">
					<tr>
						<th>ID</th>
						<th>ID User</th>
						<th>Дата</th>
						<th>Статус</th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="usefulDate : ${usefulDates}">
						<td th:text="${usefulDate.getId()}"/>
						<td th:text="${usefulDate.getUserId()}"/>
						<td th:text="${#temporals.format(usefulDate.getDate(), 'dd.MM.yyyy')}"/>
						<td th:text="${usefulDate.getUseful()}"/>
					</tr>
					</tbody>
				</table>
			</div>

			<div th:replace="~{footer::footer}"/>
		</div>
	</body>
</html>